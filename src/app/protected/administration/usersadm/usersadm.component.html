<mat-form-field>
    <mat-label>Filtrer</mat-label>
    <input matInput (keyup)="applyFilter($event)" placeholder="Filtre">
</mat-form-field>

<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

        <ng-container matColumnDef="ids">
          <th mat-header-cell *matHeaderCellDef> Identifiant </th>
          <td mat-cell *matCellDef="let element; let i = index"> 
            <label ng-bind="usersid[i]">{{element.userId}} </label>
          </td>
        </ng-container>

        <ng-container matColumnDef="userFirstname">
          <th mat-header-cell *matHeaderCellDef> Prénom </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <mat-form-field appearance="outline">
                <input matInput [(ngModel)]="firstname[i]" placeholder="Prénom" required>
            </mat-form-field>
          </td>
        </ng-container>

        <ng-container matColumnDef="userLastname">
          <th mat-header-cell *matHeaderCellDef> Nom </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <mat-form-field appearance="outline">
                <input matInput [(ngModel)]="lastname[i]" placeholder="Nom" required>
            </mat-form-field>
          </td>
        </ng-container>

        <ng-container matColumnDef="userLogin">
          <th mat-header-cell *matHeaderCellDef> Login </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <mat-form-field appearance="outline">
                <input matInput [(ngModel)]="login[i]" placeholder="Login" required>
            </mat-form-field>
          </td>
        </ng-container>

        <ng-container matColumnDef="userEmail">
          <th mat-header-cell *matHeaderCellDef> Email </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <mat-form-field appearance="outline">
                <input matInput [(ngModel)]="email[i]" placeholder="Email" required>
            </mat-form-field>
          </td>
        </ng-container>

        <ng-container matColumnDef="userLastConnection">
                <th mat-header-cell *matHeaderCellDef> Dernière connection </th>
                <td mat-cell *matCellDef="let element"> {{formatDate(element.userLastConnection)}} </td>
        </ng-container>

        <ng-container matColumnDef="password">
                <th mat-header-cell *matHeaderCellDef>Mot de passe</th>
                <td mat-cell *matCellDef="let element; let i = index"> 
                    <a class="validate" (click)="passwordChange(i)">
                        <mat-icon>fiber_new</mat-icon>
                    </a>
                </td>
        </ng-container>

        <ng-container matColumnDef="delete">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let element; let i = index"> 
                    <a (click)="delete(i)">
                        <button mat-raised-button color="warn">Supprimer</button>
                    </a>
                </td>
        </ng-container>

        <ng-container matColumnDef="save">
                <th mat-header-cell *matHeaderCellDef>Enregistrer</th>
                <td mat-cell *matCellDef="let element; let i = index"> 
                    <a class="validate" (click)="validate(i)">
                        <mat-icon>done</mat-icon>
                    </a>
                </td>
        </ng-container>
        
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        
</table>

<mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>

<div class="buttonAddUser">
    <button mat-raised-button class="adduser" (click)="adduser()">Ajouter un utilisateur</button>
</div>
